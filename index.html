<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Home - async-template</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./mdbook-admonish.css">
        <link rel="stylesheet" href="./theme/catppuccin.css">
        <link rel="stylesheet" href="./theme/catppuccin-highlight.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html" class="active"><strong aria-hidden="true">1.</strong> Home</a></li><li class="chapter-item expanded "><a href="00-structure.html"><strong aria-hidden="true">2.</strong> Tutorial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="01-structure.html"><strong aria-hidden="true">2.1.</strong> main.rs</a></li><li class="chapter-item expanded "><a href="02-structure.html"><strong aria-hidden="true">2.2.</strong> tui.rs</a></li><li class="chapter-item expanded "><a href="03-structure.html"><strong aria-hidden="true">2.3.</strong> action.rs</a></li><li class="chapter-item expanded "><a href="04-structure.html"><strong aria-hidden="true">2.4.</strong> app.rs</a></li><li class="chapter-item expanded "><a href="05-structure.html"><strong aria-hidden="true">2.5.</strong> components.rs</a></li><li class="chapter-item expanded "><a href="06-structure.html"><strong aria-hidden="true">2.6.</strong> components/home.rs</a></li><li class="chapter-item expanded "><a href="07-structure.html"><strong aria-hidden="true">2.7.</strong> config.rs</a></li><li class="chapter-item expanded "><a href="08-structure.html"><strong aria-hidden="true">2.8.</strong> utils.rs</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frapp√©</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">async-template</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ratatui-org/async-template" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/ratatui-org/async-template/edit/main/book/src/index.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="home"><a class="header" href="#home">Home</a></h1>
<h1 id="async-template"><a class="header" href="#async-template">async-template</a></h1>
<p>DEPRECATED: Use <a href="https://github.com/ratatui-org/templates">https://github.com/ratatui-org/templates</a> instead</p>
<pre><code class="language-shell">cargo generate ratatui-org/templates async
</code></pre>
<p><img src="https://user-images.githubusercontent.com/1813121/277114001-0d25a09c-f24e-4ffc-8763-cd258828cec0.gif" alt="" /></p>
<h3 id="features"><a class="header" href="#features">Features</a></h3>
<ul>
<li>Uses <a href="https://tokio.rs/">tokio</a> for async events
<ul>
<li>Start and stop key events to shell out to another TUI like vim</li>
<li>Supports suspend signal hooks</li>
</ul>
</li>
<li>Logs using <a href="https://github.com/tokio-rs/tracing">tracing</a></li>
<li><a href="https://github.com/mitsuhiko/better-panic">better-panic</a></li>
<li><a href="https://github.com/eyre/color-eyre">color-eyre</a></li>
<li><a href="https://github.com/rust-cli/human-panic">human-panic</a></li>
<li>Clap for command line argument parsing</li>
<li><code>Component</code> trait with
<a href="https://github.com/ratatui-org/async-template/blob/main/template/src/components/home.rs"><code>Home</code></a>
and
<a href="https://github.com/ratatui-org/async-template/blob/main/template/src/components/fps.rs"><code>Fps</code></a>
components as examples</li>
</ul>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<p>You can start by using <code>cargo-generate</code>:</p>
<pre><code class="language-bash">cargo install cargo-generate
cargo generate --git https://github.com/ratatui-org/async-template --name ratatui-hello-world
cd ratatui-hello-world
</code></pre>
<p>You can also use a
<a href="https://github.com/ratatui-org/async-template/blob/main/.github/workflows/template.toml"><code>template.toml</code></a>
file to skip the prompts:</p>
<pre><code class="language-bash">$ cargo generate --git https://github.com/ratatui-org/async-template --template-values-file .github/workflows/template.toml --name ratatui-hello-world
# OR generate from local clone
$ cargo generate --path . --template-values-file .github/workflows/template.toml --name ratatui-hello-world
</code></pre>
<p><strong>Run</strong></p>
<pre><code class="language-bash">cargo run # Press `q` to exit
</code></pre>
<p><strong>Show <code>help</code></strong></p>
<pre><code class="language-bash">$ cargo run -- --help
Hello World project using ratatui-template

Usage: ratatui-hello-world [OPTIONS]

Options:
  -t, --tick-rate &lt;FLOAT&gt;   Tick rate, i.e. number of ticks per second [default: 1]
  -f, --frame-rate &lt;FLOAT&gt;  Frame rate, i.e. number of frames per second [default: 60]
  -h, --help                Print help
  -V, --version             Print version
</code></pre>
<p><strong>Show <code>version</code></strong></p>
<p>Without direnv variables:</p>
<pre><code class="language-bash">$ cargo run -- --version
    Finished dev [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/ratatui-hello-world --version`
ratatui-hello-world v0.1.0-47-eb0a31a

Authors: Dheepak Krishnamurthy

Config directory: /Users/kd/Library/Application Support/com.kdheepak.ratatui-hello-world
Data directory: /Users/kd/Library/Application Support/com.kdheepak.ratatui-hello-world
</code></pre>
<p>With direnv variables:</p>
<pre><code class="language-bash">$ direnv allow
direnv: loading ~/gitrepos/async-template/ratatui-hello-world/.envrc
direnv: export +RATATUI_HELLO_WORLD_CONFIG +RATATUI_HELLO_WORLD_DATA +RATATUI_HELLO_WORLD_LOG_LEVEL

$ # OR

$ export RATATUI_HELLO_WORLD_CONFIG=`pwd`/.config
$ export RATATUI_HELLO_WORLD_DATA=`pwd`/.data
$ export RATATUI_HELLO_WORLD_LOG_LEVEL=debug

$ cargo run -- --version
    Finished dev [unoptimized + debuginfo] target(s) in 0.07s
     Running `target/debug/ratatui-hello-world --version`
ratatui-hello-world v0.1.0-47-eb0a31a

Authors: Dheepak Krishnamurthy

Config directory: /Users/kd/gitrepos/async-template/ratatui-hello-world/.config
Data directory: /Users/kd/gitrepos/async-template/ratatui-hello-world/.data
</code></pre>
<h3 id="documentation"><a class="header" href="#documentation">Documentation</a></h3>
<p>Read documentation on design decisions in the template here:
<a href="https://ratatui-org.github.io/async-template/">https://ratatui-org.github.io/async-template/</a></p>
<h3 id="counter--text-input-demo"><a class="header" href="#counter--text-input-demo">Counter + Text Input Demo</a></h3>
<p>This repo contains a <code>ratatui-counter</code> folder that is a working demo as an example. If you wish to
run a demo without using <code>cargo generate</code>, you can run the counter + text input demo by following
the instructions below:</p>
<pre><code class="language-bash">git clone https://github.com/ratatui-org/async-template
cd async-template
cd ratatui-counter # counter + text input demo

export RATATUI_COUNTER_CONFIG=`pwd`/.config
export RATATUI_COUNTER_DATA=`pwd`/.data
export RATATUI_COUNTER_LOG_LEVEL=debug
# OR
direnv allow

cargo run
</code></pre>
<p>You should see a demo like this:</p>
<p><img src="https://github.com/ratatui-org/async-template/assets/1813121/057a0fe9-9f6d-4f8c-963c-ca2725721bdd" alt="" /></p>
<h2 id="background"><a class="header" href="#background">Background</a></h2>
<p><a href="https://github.com/ratatui-org/ratatui"><code>ratatui</code></a> is a Rust library to build rich terminal user
interfaces (TUIs) and dashboards. It is a community fork of the original
<a href="https://github.com/fdehau/tui-rs"><code>tui-rs</code></a> created to maintain and improve the project.</p>
<p>The <a href="https://github.com/ratatui-org/async-template">source code of this project</a> is an opinionated
template for getting up and running with <code>ratatui</code>. You can pick and choose the pieces of this
<code>async-template</code> to suit your needs and sensibilities. This rest of this documentation is a
walk-through of why the code is structured the way it is, so that you are aided in modifying it as
you require.</p>
<p><code>ratatui</code> is based on the principle of immediate rendering with intermediate buffers. This means
that at each new frame you have to build all widgets that are supposed to be part of the UI. In
short, the <code>ratatui</code> library is largely handles just drawing to the terminal.</p>
<p>Additionally, the library does not provide any input handling nor any event system. The
responsibility of getting keyboard input events, modifying the state of your application based on
those events and figuring out which widgets best reflect the view of the state of your application
is on you.</p>
<p>The <code>ratatui-org</code> project has added a template that covers the basics, and you find that here:
<a href="https://github.com/ratatui-org/rust-tui-template">https://github.com/ratatui-org/rust-tui-template</a>.</p>
<p>I wanted to take another stab at a template, one that uses <code>tokio</code> and organizes the code a little
differently. This is an opinionated view on how to organize a <code>ratatui</code> project.</p>
<div id="admonition-info" class="admonition info">
<div class="admonition-title">
<p>Info</p>
<p><a class="admonition-anchor-link" href="#admonition-info"></a></p>
</div>
<div>
<p>Since <code>ratatui</code> is a immediate mode rendering based library, there are <em>multiple</em> ways to organize your code, and there‚Äôs no real ‚Äúright‚Äù answer.
Choose whatever works best for you!</p>
</div>
</div>
<p>This project also adds commonly used dependencies like logging, command line arguments,
configuration options, etc.</p>
<p>As part of this documentation, we‚Äôll walk through some of the different ways you may choose to
organize your code and project in order to build a functioning terminal user interface. You can pick
and choose the parts you like.</p>
<p>You may also want to check out the following links (roughly in order of increasing complexity):</p>
<ul>
<li><a href="https://github.com/ratatui-org/ratatui/tree/main/examples">https://github.com/ratatui-org/ratatui/tree/main/examples</a>: Simple one-off examples to illustrate
various widgets and features in <code>ratatui</code>.</li>
<li><a href="https://github.com/ratatui-org/rust-tui-template">https://github.com/ratatui-org/rust-tui-template</a>: Starter kit for using <code>ratatui</code></li>
<li><a href="https://github.com/ratatui-org/ratatui-book/tree/main/ratatui-book-tutorial-project">https://github.com/ratatui-org/ratatui-book/tree/main/ratatui-book-tutorial-project</a>: Tutorial
project that the user a simple interface to enter key-value pairs, which will printed in json.</li>
<li><a href="https://github.com/ratatui-org/async-template">https://github.com/ratatui-org/async-template</a>: Async tokio crossterm based opinionated starter
kit for using <code>ratatui</code>.</li>
<li><a href="https://github.com/veeso/tui-realm/">https://github.com/veeso/tui-realm/</a>: A framework for <code>tui.rs</code> to simplify the implementation of
terminal user interfaces adding the possibility to work with re-usable components with properties
and states.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next" href="00-structure.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next" href="00-structure.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
